---
layout: blog
---

<article>
    <header style="margin-bottom: 2rem; text-align: left; border-bottom: 1px solid var(--border); padding-bottom: 1.5rem;">
        <h1 style="font-size: 2.2rem; margin-bottom: 0.5rem; line-height: 1.3; color: var(--text); font-weight: 700;">{{ page.title }}</h1>
        {% if page.date %}
        <div style="color: var(--text); opacity: 0.7; font-size: 0.9rem;">
            {{ page.date | date: "%B %d, %Y" }}
        </div>
        {% endif %}
    </header>
    
    <div style="font-size: 1.1rem; line-height: 1.7; color: var(--text);">
        {{ content }}
    </div>
    
    <footer style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border); text-align: left;">
        <a href="/blog" style="color: var(--primary); text-decoration: none; font-size: 0.9rem; font-weight: 600;">‚Üê Back to Essays</a>
    </footer>
</article>

<style>
    /* Post-specific styles */
    article h2, article h3, article h4 {
        margin-top: 2rem;
        margin-bottom: 1rem;
        color: var(--text);
        font-weight: 600;
    }
    
    article h2 {
        font-size: 1.5rem;
        border-bottom: 1px solid var(--border);
        padding-bottom: 0.5rem;
    }
    
    article h3 {
        font-size: 1.3rem;
    }
    
    article p {
        margin-bottom: 1.5rem;
        color: var(--text);
    }
    
    article blockquote {
        border-left: 3px solid var(--primary);
        padding-left: 1.5rem;
        margin: 2rem 0;
        font-style: italic;
        color: var(--text);
        opacity: 0.8;
        background: var(--glass);
        padding: 1rem 1.5rem;
        border-radius: 8px;
    }
    
    article code {
        background: var(--glass);
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        font-size: 0.9em;
        border: 1px solid var(--border);
    }
    
    article pre {
        background: var(--glass);
        border: 1px solid var(--border);
        padding: 1rem;
        border-radius: 8px;
        overflow-x: auto;
        margin: 1.5rem 0;
    }
    
    article pre code {
        background: none;
        padding: 0;
        border: none;
    }
    
    article ul, article ol {
        margin-bottom: 1.5rem;
        padding-left: 2rem;
        color: var(--text);
    }
    
    article li {
        margin-bottom: 0.5rem;
    }
    
    article a {
        color: var(--primary);
        text-decoration: none;
        font-weight: 500;
    }
    
    article a:hover {
        color: var(--accent);
        text-decoration: underline;
    }
    
    article img {
        max-width: 100%;
        height: auto;
        margin: 2rem 0;
        border-radius: 12px;
        box-shadow: var(--shadow);
    }

    /* Embedded media styles */
    .embedded-media {
        margin: 2rem 0;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: var(--shadow);
    }

    .embedded-media iframe {
        width: 100%;
        aspect-ratio: 16 / 9;
        border: none;
        display: block;
    }

    .embedded-media img {
        margin: 0;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Find all links in the article
    const article = document.querySelector('article');
    if (!article) return;

    const links = article.querySelectorAll('a[href]');

    links.forEach(link => {
        const url = link.href;

        // YouTube detection
        if (url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]+)/)) {
            const videoId = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]+)/)[1];
            const embed = document.createElement('div');
            embed.className = 'embedded-media';
            embed.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen loading="lazy"></iframe>`;

            // Replace the link with the embed
            const parent = link.parentNode;
            if (parent.tagName === 'P' && parent.textContent.trim() === link.textContent.trim()) {
                parent.replaceWith(embed);
            } else {
                link.replaceWith(embed);
            }
        }

        // Pinterest image detection
        else if (url.match(/(?:pinterest\.com|pinimg\.com)/i) && url.match(/\.(jpg|jpeg|png|gif|webp)/i)) {
            const embed = document.createElement('div');
            embed.className = 'embedded-media';
            embed.innerHTML = `<img src="${url}" alt="Pinterest image" loading="lazy">`;

            const parent = link.parentNode;
            if (parent.tagName === 'P' && parent.textContent.trim() === link.textContent.trim()) {
                parent.replaceWith(embed);
            } else {
                link.replaceWith(embed);
            }
        }

        // Generic image detection (any direct link to an image)
        else if (url.match(/\.(jpg|jpeg|png|gif|webp|svg)(\?.*)?$/i)) {
            const embed = document.createElement('div');
            embed.className = 'embedded-media';
            embed.innerHTML = `<img src="${url}" alt="Embedded image" loading="lazy">`;

            const parent = link.parentNode;
            if (parent.tagName === 'P' && parent.textContent.trim() === link.textContent.trim()) {
                parent.replaceWith(embed);
            } else {
                link.replaceWith(embed);
            }
        }

        // Vimeo detection
        else if (url.match(/vimeo\.com\/(\d+)/)) {
            const videoId = url.match(/vimeo\.com\/(\d+)/)[1];
            const embed = document.createElement('div');
            embed.className = 'embedded-media';
            embed.innerHTML = `<iframe src="https://player.vimeo.com/video/${videoId}" allowfullscreen loading="lazy"></iframe>`;

            const parent = link.parentNode;
            if (parent.tagName === 'P' && parent.textContent.trim() === link.textContent.trim()) {
                parent.replaceWith(embed);
            } else {
                link.replaceWith(embed);
            }
        }

        // Spotify detection
        else if (url.match(/open\.spotify\.com\/(track|album|playlist|episode)\/([a-zA-Z0-9]+)/)) {
            const match = url.match(/open\.spotify\.com\/(track|album|playlist|episode)\/([a-zA-Z0-9]+)/);
            const type = match[1];
            const id = match[2];
            const embed = document.createElement('div');
            embed.className = 'embedded-media';
            embed.innerHTML = `<iframe src="https://open.spotify.com/embed/${type}/${id}" height="152" allowfullscreen loading="lazy" style="aspect-ratio: auto; height: 152px;"></iframe>`;

            const parent = link.parentNode;
            if (parent.tagName === 'P' && parent.textContent.trim() === link.textContent.trim()) {
                parent.replaceWith(embed);
            } else {
                link.replaceWith(embed);
            }
        }

        // SoundCloud detection
        else if (url.match(/soundcloud\.com/)) {
            const embed = document.createElement('div');
            embed.className = 'embedded-media';
            embed.innerHTML = `<iframe src="https://w.soundcloud.com/player/?url=${encodeURIComponent(url)}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true" height="166" allowfullscreen loading="lazy" style="aspect-ratio: auto; height: 166px;"></iframe>`;

            const parent = link.parentNode;
            if (parent.tagName === 'P' && parent.textContent.trim() === link.textContent.trim()) {
                parent.replaceWith(embed);
            } else {
                link.replaceWith(embed);
            }
        }

        // Twitter/X detection
        else if (url.match(/(?:twitter\.com|x\.com)\/.*\/status\/(\d+)/)) {
            // For Twitter, we'll just make it open in a new tab
            // Full embedding requires Twitter's widget.js which is heavy
            link.setAttribute('target', '_blank');
            link.setAttribute('rel', 'noopener noreferrer');
        }
    });
});
</script>